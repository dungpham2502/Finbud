{"ast":null,"code":"import axios from 'axios';\nconst fetchStockPrice = async stockCode => {\n  try {\n    const apiKey = process.env.VUE_APP_STOCK_API_KEY;\n    console.log(\"API Key:\", apiKey); // Ensure this logs correctly\n    const apiUrl = `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=${apiKey}`;\n    console.log(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=${apiKey}`);\n    const response = await axios.get(apiUrl);\n    if (response.data.Note) {\n      console.error(\"API Limit hit:\", response.data.Note);\n      return null; // Handle API limit scenario\n    }\n    console.log('API Response:', response.data);\n    const priceData = response.data['Global Quote'];\n    const stockPrice = priceData['05. price'];\n    console.log(`Successfully fetched stock price for ${stockCode}: $${stockPrice}`);\n    return stockPrice;\n  } catch (error) {\n    console.error('Error fetching stock price:', error.response ? error.response.data : error.message);\n    throw error; // Rethrow the error to handle it outside this function if needed\n  }\n};\nexport { fetchStockPrice };","map":{"version":3,"names":["axios","fetchStockPrice","stockCode","apiKey","process","env","VUE_APP_STOCK_API_KEY","console","log","apiUrl","response","get","data","Note","error","priceData","stockPrice","message"],"sources":["/Users/buidinhtri/Desktop/FindBud/FinBud-AI-bot/src/services/stockServices.js"],"sourcesContent":["import axios from 'axios';\n\nconst fetchStockPrice = async (stockCode) => {\n  try {\n    const apiKey = process.env.VUE_APP_STOCK_API_KEY;\n    console.log(\"API Key:\", apiKey); // Ensure this logs correctly\n    const apiUrl = `https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=${apiKey}`;\n    console.log(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockCode}&apikey=${apiKey}`)\n    const response = await axios.get(apiUrl);\n    if(response.data.Note) {\n      console.error(\"API Limit hit:\", response.data.Note);\n      return null; // Handle API limit scenario\n    }\n    console.log('API Response:', response.data);\n    const priceData = response.data['Global Quote'];\n    const stockPrice = priceData['05. price'];\n    \n    console.log(`Successfully fetched stock price for ${stockCode}: $${stockPrice}`);\n    return stockPrice;\n  } catch (error) {\n    console.error('Error fetching stock price:', error.response ? error.response.data : error.message);\n    throw error; // Rethrow the error to handle it outside this function if needed\n  }\n}\n\nexport {\n  fetchStockPrice,\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,eAAe,GAAG,MAAOC,SAAS,IAAK;EAC3C,IAAI;IACF,MAAMC,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,qBAAqB;IAChDC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEL,MAAM,CAAC,CAAC,CAAC;IACjC,MAAMM,MAAM,GAAI,kEAAiEP,SAAU,WAAUC,MAAO,EAAC;IAC7GI,OAAO,CAACC,GAAG,CAAE,kEAAiEN,SAAU,WAAUC,MAAO,EAAC,CAAC;IAC3G,MAAMO,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAG,CAACF,MAAM,CAAC;IACxC,IAAGC,QAAQ,CAACE,IAAI,CAACC,IAAI,EAAE;MACrBN,OAAO,CAACO,KAAK,CAAC,gBAAgB,EAAEJ,QAAQ,CAACE,IAAI,CAACC,IAAI,CAAC;MACnD,OAAO,IAAI,CAAC,CAAC;IACf;IACAN,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEE,QAAQ,CAACE,IAAI,CAAC;IAC3C,MAAMG,SAAS,GAAGL,QAAQ,CAACE,IAAI,CAAC,cAAc,CAAC;IAC/C,MAAMI,UAAU,GAAGD,SAAS,CAAC,WAAW,CAAC;IAEzCR,OAAO,CAACC,GAAG,CAAE,wCAAuCN,SAAU,MAAKc,UAAW,EAAC,CAAC;IAChF,OAAOA,UAAU;EACnB,CAAC,CAAC,OAAOF,KAAK,EAAE;IACdP,OAAO,CAACO,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAACJ,QAAQ,GAAGI,KAAK,CAACJ,QAAQ,CAACE,IAAI,GAAGE,KAAK,CAACG,OAAO,CAAC;IAClG,MAAMH,KAAK,CAAC,CAAC;EACf;AACF,CAAC;AAED,SACEb,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}